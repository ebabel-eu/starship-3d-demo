var ebg={};ebg.version="0.3.0",ebg.err={input:{required:"Missing required input."}},ebg.initScene=function(input){"use strict";var output,_controls,scene=input&&input.scene,renderer=input&&input.renderer,light=input&&input.light,camera=input&&input.camera,controls=input&&input.controls;if(!(scene&&renderer&&light&&camera&&camera.type&&camera.aspectRatio&&camera.nearPlane&&camera.farPlane))throw new Error(ebg.err.input.required);return renderer.setSize(window.innerWidth,window.innerHeight),document.getElementById("webgl-container").appendChild(renderer.domElement),scene.add(light),output=new THREE[camera.type](camera.angle,camera.aspectRatio,camera.nearPlane,camera.farPlane),output.position.set(camera.position&&camera.position.x||0,camera.position&&camera.position.y||0,camera.position&&camera.position.z||100),controls&&controls.type&&controls.listenFor&&controls.callback&&(_controls=new THREE[controls.type](output),_controls.addEventListener(controls.listenFor,controls.callback)),scene.add(output),output},ebg.loadModel=function(input){"use strict";var loader,path=input&&input.path,name=input&&input.name,scene=input&&input.scene,position=input&&input.position||{x:0,y:0,z:0},rotation=input&&input.rotation||{x:0,y:0,z:0};if(!path||!name||!scene)throw new Error(ebg.err.input.required);loader=new THREE.ColladaLoader,loader.load(path,function(collada){var model=collada.scene;model.name=name,model.position.set(position.x||0,position.y||0,position.z||0),model.rotation.set(rotation.x||0,rotation.y||0,rotation.z||0),scene.add(model)},function(xhr){})},ebg.render=function(input){"use strict";var renderer=input&&input.renderer,scene=input&&input.scene,camera=input&&input.camera,callback=input&&input.callback;if(!renderer||!scene||!camera)throw new Error(ebg.err.input.required);renderer.render(scene,camera),callback&&callback(input),requestAnimationFrame(function(){ebg.render(input)})},function(THREE){"use strict";var scene=new THREE.Scene,renderer=window.WebGLRenderingContext?new THREE.WebGLRenderer:new THREE.CanvasRenderer,light=new THREE.AmbientLight(16777215),camera=ebg.initScene({scene:scene,renderer:renderer,light:light,camera:{type:"PerspectiveCamera",angle:45,aspectRatio:window.innerWidth/window.innerHeight,nearPlane:1,farPlane:500,position:{z:15}},controls:{type:"OrbitControls",listenFor:"change",callback:function(){ebg.render({renderer:renderer,scene:scene,camera:camera})}}});ebg.loadModel({path:"models/spaceship/spaceship.dae",name:"static-spaceship",scene:scene,position:{x:-5,z:2},rotation:{x:30}}),ebg.loadModel({path:"models/spaceship/spaceship.dae",name:"fast-spaceship",scene:scene,position:{x:1.5,y:20,z:-25},rotation:{x:30}}),ebg.loadModel({path:"models/spaceship/spaceship.dae",name:"slow-spaceship",scene:scene,position:{x:-1,y:20,z:-45},rotation:{x:30}}),ebg.render({renderer:renderer,scene:scene,camera:camera,sprites:[{name:"static-spaceship",scene:scene},{name:"fast-spaceship",scene:scene,heartbeat:function(input){var sprite,name=input&&input.name,scene=input&&input.scene;if(!name||!scene)throw new Error(ebg.err.input.required);sprite=scene.getObjectByName(name),sprite&&(sprite.position.y>0?(sprite.position.z+=.05,sprite.position.y+=-.05):sprite.position.z+=1,sprite.position.z>25&&sprite.position.set(1.5,20,-25))}},{name:"slow-spaceship",scene:scene,heartbeat:function(input){var sprite,name=input&&input.name,scene=input&&input.scene;if(!name||!scene)throw new Error(ebg.err.input.required);sprite=scene.getObjectByName(name),sprite&&(sprite.position.y>-2?(sprite.position.z+=.05,sprite.position.y+=-.05):sprite.position.z+=.33,sprite.position.z>25&&sprite.position.set(-1,20,-45))}}],callback:function(input){var sprites=input&&input.sprites;if(!sprites)throw new Error(ebg.err.input.required);sprites.map(function(sprite){sprite.heartbeat&&sprite.heartbeat(sprite)})}})}(THREE);
//# sourceMappingURL=scripts.min.js.map